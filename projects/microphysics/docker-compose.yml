# this is only for development purposes and integration with visual studio code
version: '3.4'
services:
  fv3:
    # image: us.gcr.io/vcm-ml/fv3fit:be696063a93d2829c5f03fa9f81e8aa3855790b1
    # image: us.gcr.io/vcm-ml/prognostic_run_gpu:d6a0ed27eb58dae25782e9c6613774562f2e640f0
    image: us.gcr.io/vcm-ml/prognostic_run_gpu:04de1e27915f3af51cafec4434c7041425257c9e
    entrypoint: []
    command: [bash]
    working_dir: /fv3net/projects/microphysics
    volumes:
      - ../../external:/fv3net/external
      - ../../workflows:/fv3net/workflows
      - ../../projects:/fv3net/projects
      - bash_history:/root/.bash_history
      - $HOME/.config/gcloud:/root/.config/gcloud
    environment:
      - HISTFILE=/root/.bash_history/history
      - PYTHONPATH=/fv3net/external/fv3fit:/fv3net/external/emulation
    env_file:
      - .env
volumes:
  bash_history: {}