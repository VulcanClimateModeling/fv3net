# Original kubernetes job yaml from JeremyM
apiVersion: batch/v1
kind: Job
metadata:
  creationTimestamp: "2020-04-24T23:15:19Z"
  labels:
    app: fv3run
    controller-uid: 77407baa-8681-11ea-874b-42010a3c000c
    job-name: nudge-to-high-res-3qyo0ls4
    orchestrator-jobs: nudge-to-high-res-3qyo0ls4
  name: nudge-to-high-res-3qyo0ls4
  namespace: default
  resourceVersion: "41631073"
  selfLink: /apis/batch/v1/namespaces/default/jobs/nudge-to-high-res-3qyo0ls4
  uid: 77407baa-8681-11ea-874b-42010a3c000c
spec:
  backoffLimit: 0
  completions: 1
  parallelism: 1
  selector:
    matchLabels:
      controller-uid: 77407baa-8681-11ea-874b-42010a3c000c
  template:
    metadata:
      creationTimestamp: null
      labels:
        app: fv3run
        controller-uid: 77407baa-8681-11ea-874b-42010a3c000c
        job-name: nudge-to-high-res-3qyo0ls4
        orchestrator-jobs: nudge-to-high-res-3qyo0ls4
    spec:
      containers:
      - command:
        - python
        - -m
        - fv3config.fv3run._native_main
        - '[["gs://vcm-ml-data/mcgibbon-testing/config/fv3config-1h.yml", "gs://vcm-ml-data/mcgibbon-testing/outdir-1h"],
          {"runfile": "gs://vcm-ml-data/mcgibbon-testing/runfile.py", "capture_output":
          false}]'
        env:
        - name: GOOGLE_APPLICATION_CREDENTIALS
          value: /secret/gcp-credentials/key.json
        - name: CLOUDSDK_AUTH_CREDENTIAL_FILE_OVERRIDE
          value: /secret/gcp-credentials/key.json
        image: us.gcr.io/vcm-ml/fv3gfs-python:v0.4.1
        imagePullPolicy: Always
        name: fv3gfs
        resources:
          limits:
            memory: 3600M
          requests:
            cpu: "6"
            memory: 3600M
        terminationMessagePath: /dev/termination-log
        terminationMessagePolicy: File
        volumeMounts:
        - mountPath: /secret/gcp-credentials
          name: gcp-key-secret
          readOnly: true
      dnsPolicy: ClusterFirst
      restartPolicy: Never
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 30
      tolerations:
      - effect: NoSchedule
        key: dedicated
        value: climate-sim-pool
      volumes:
      - name: gcp-key-secret
        secret:
          defaultMode: 420
          secretName: gcp-key
status:
  completionTime: "2020-04-25T01:11:06Z"
  conditions:
  - lastProbeTime: "2020-04-25T01:11:06Z"
    lastTransitionTime: "2020-04-25T01:11:06Z"
    status: "True"
    type: Complete
  startTime: "2020-04-24T23:15:19Z"
  succeeded: 1
