user: brianh
storage_proto: 'gs'
storage_root: vcm-ml-data/orchestration-testing
experiment:
  name: test-experiment
  unique_id: True
  fv3net_hash: ca279cb79c0b97a5e5e758ec8785612b3c7ec044
#   workflow_steps: [coarsen_restarts, one_step_run, creating_training_data, train_sklearn_model]
  workflow_steps: [train_sklearn_model]
  steps:
    coarsen_restarts:
      input_location:  gs://vcm-ml-data/orchestration-testing/shield-C384-restarts-2019-12-04
      method:
        source-resolution: 384
        target-resolution: 48
    one_step_run:
      # input_from: coarsen_restarts
      input_location: gs://vcm-ml-data/orchestration-testing/test-experiment-522f4ad/coarsen_restarts_source-resolution_384_target-resolution_48
      add_unique_id: ['experiment_label']
      method: 
        one_step_yaml: /home/andrep/repos/fv3net/workflows/one_step_jobs/all-physics-off.yml
        experiment_label: test-orchestration-group
    create_training_data:
#       input_from: one_step_run
      input_location: gs://vcm-ml-data/2020-01-16-X-SHiELD-2019-12-02-pressure-coarsened-rundirs
      method: 
        model-resolution: 48
        diag-c48-path: gs://vcm-ml-data/2019-12-05-40-day-X-SHiELD-simulation-C384-diagnostics/C48_gfsphysics_15min_coarse.zarr
        timesteps-per-output-file: 3
        mask-to-surface-type: 
        train-fraction: 0.8
    train_sklearn_model::
      # input_from: create_training_data
      input_location: gs://vcm-ml-data/test_annak/2020-02-05_train_data_pipeline/train
      method: 
        train-config-file: /home/brianh/dev/fv3net/workflows/sklearn_regression/example_rf_training_config.ymlexample_rf_training_config.yml
        remote-output-url: 
        
        